# tibberchargescript
i use this script to charge my battery daily (16kw) to charge in the cheapest hours possible whit lots of trial and error. 
i think this is the best aproach but any input is usefull 

smal python3 script to retrieve 24h prices and amount of charge hours. make a selection from the lowest 5 values and write the 5'th highest value back to a domoticz IDX

create idx virtual sensors in domoticz
download py file to home/$user location 
make executable chmod u+x tibber-charge-script.py 
update variables and run with crontab -e every hour 

when run in console next items wil be visible:

![image](https://user-images.githubusercontent.com/61116413/212590730-793bb124-2ba7-4ae1-a4fe-9fbf303d6ac2.png)

for domoticz:

![image](https://user-images.githubusercontent.com/61116413/212589480-0270dcdd-ec2c-47e9-be63-342308ac7b11.png)

and my own blockly (work in progress)

![image](https://user-images.githubusercontent.com/61116413/212589984-0f0a5de5-a8f3-41ac-ba76-ad6ae08c9e09.png)

